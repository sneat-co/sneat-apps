<ion-header>
	<ion-toolbar color="light">
		<ion-buttons slot="start">
			<ion-back-button />
		</ion-buttons>
		<ion-title>Login @ {{ appTitle }}</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-card *ngIf="to" color="tertiary">
		<ion-card-content>
			<p>Please sign in to join a team</p>
		</ion-card-content>
	</ion-card>

	<!--	<ion-card *ngIf="to" [ngSwitch]="to" color="tertiary">-->
	<!--		<ion-card-content *ngSwitchCase="'join-team'">-->
	<!--			<p>Please sign in to join a team</p>-->
	<!--			<p *ngIf="action === 'join'">Please sign in to join team</p>-->
	<!--			<p *ngIf="action === 'refuse'">-->
	<!--				Please sign in to send refusal to join team to the inviter.-->
	<!--			</p>-->
	<!--		</ion-card-content>-->
	<!--	</ion-card>-->

	<p style="text-align: center; font-size: smaller">
		<ion-text color="medium">
			This app is free to use &
			<a target="_blank" href="https://github.com/sneat-team/dailyscrum-pwa"
				>open source</a
			>.
		</ion-text>
	</p>

	<sneat-email-login-form
		(signingWithChange)="onEmailFormStatusChanged()"
		(loggedIn)="onLoggedIn($event)"
	/>

	<ion-card>
		<ion-item-divider color="light">
			<ion-label color="medium" style="text-align: center; width: 100%">
				Quick login
			</ion-label>
		</ion-item-divider>
		<ion-grid class="ion-grid-layout">
			<ion-row>
				<ion-col>
					<div class="ion-padding" style="text-align: center">
						<sneat-login-with-telegram telegramLogin="SneatBot" />
					</div>
				</ion-col>
			</ion-row>
			<ion-row>
				<ion-col>
					<ion-list lines="none">
						<ion-item
							(click)="loginWith('Google')"
							tappable
							[disabled]="!!signingWith"
						>
							<ion-icon
								color="danger"
								name="logo-google"
								slot="start"
								*ngIf="signingWith !== 'Google'"
							/>
							<ion-spinner
								slot="start"
								name="lines-small"
								*ngIf="signingWith === 'Google'"
							/>
							<ion-label color="danger"> Login with Google</ion-label>
						</ion-item>
						<ion-item
							*ngIf="false"
							(click)="loginWith('Facebook')"
							tappable
							[disabled]="!!signingWith"
						>
							<ion-icon
								slot="start"
								color="primary"
								name="logo-facebook"
								*ngIf="signingWith !== 'Facebook'"
							/>
							<ion-spinner
								slot="start"
								color="primary"
								name="lines-small"
								*ngIf="signingWith === 'Facebook'"
							/>
							<ion-label color="primary">Login with Facebook</ion-label>
						</ion-item>
					</ion-list>
				</ion-col>
				<ion-col>
					<ion-list lines="none">
						<ion-item
							(click)="loginWith('Microsoft')"
							tappable
							[disabled]="!!signingWith"
						>
							<ion-icon
								slot="start"
								color="secondary"
								name="logo-windows"
								*ngIf="signingWith !== 'Microsoft'"
							/>
							<ion-spinner
								slot="start"
								color="secondary"
								name="lines-small"
								*ngIf="signingWith === 'Microsoft'"
							/>
							<ion-label color="secondary">Login with Microsoft</ion-label>
						</ion-item>
						<ion-item
							*ngIf="false"
							(click)="loginWith('GitHub')"
							tappable
							[disabled]="!!signingWith"
						>
							<ion-icon
								slot="start"
								color="tertiary"
								name="logo-github"
								*ngIf="signingWith !== 'GitHub'"
							/>
							<ion-spinner
								slot="start"
								color="tertiary"
								name="lines-small"
								*ngIf="signingWith === 'GitHub'"
							/>
							<ion-label color="tertiary">Login with GitHub</ion-label>
						</ion-item>
					</ion-list>
				</ion-col>
			</ion-row>
		</ion-grid>
	</ion-card>

	<div style="text-align: center">
		<ion-text color="medium" style="font-size: smaller">or</ion-text>
	</div>

	<p style="text-align: center; font-size: smaller">
		<ion-text color="medium">
			If any issues get
			<a href="mailto:help@sneat.app?subject=Problem+with+login+at+Sneat.app"
				>help@sneat.app</a
			>
		</ion-text>
	</p>
</ion-content>
