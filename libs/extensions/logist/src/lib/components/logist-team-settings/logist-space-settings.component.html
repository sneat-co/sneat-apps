@if (address === undefined) {
	<ion-card>
		<ion-card-content>
			<ion-spinner /> Loading contact for logistTeam:
			{{ logistSpace?.dbo | json }} (address: {{ address | json }}...
		</ion-card-content>
	</ion-card>
}

@if (address !== undefined) {
	<form [formGroup]="form">
		<sneat-address-form
			[address]="address || undefined"
			[requiredFields]="{ city: true }"
			(formCreated)="onAddressFormChanged($event)"
			(addressChange)="onAddressChanged($event)"
		/>
		@if (address?.countryID) {
			<ion-card>
				<ion-item>
					<ion-label color="medium">VAT #</ion-label>
					<ion-input [formControl]="vatNumber" placeholder="optional" />
				</ion-item>
				<ion-item>
					<ion-label color="medium">Order # prefix</ion-label>
					<ion-input [formControl]="orderNumberPrefix" placeholder="optional" />
				</ion-item>
			</ion-card>
		}
		@if (address?.countryID) {
			<sneat-logist-space-roles
				[selectedRoles]="roles"
				(selectedRolesChange)="roles = $event"
			/>
		}
	</form>
}

<div class="ion-margin">
	@if (address?.countryID) {
		<ion-button (click)="submit()">Save changes</ion-button>
	}
</div>
