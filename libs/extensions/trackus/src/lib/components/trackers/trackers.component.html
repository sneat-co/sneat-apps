<ion-card>
	<ion-list>
		@if ($loading()) {
			<ion-item>
				<ion-spinner
					color="medium"
					name="lines-small"
					slot="start"
				></ion-spinner>
				<ion-label color="medium">Loading...</ion-label>
			</ion-item>
		} @else if ($error()) {
			<ion-item>
				<ion-label color="danger">{{ $error() }}</ion-label>
				<ion-buttons slot="end">
					<ion-button color="danger" (click)="retry()" fill="solid"
						>Retry</ion-button
					>
				</ion-buttons>
			</ion-item>
		} @else {
			@for (tracker of $trackers(); track tracker.id) {
				<ion-item [routerLink]="'../trackers/' + tracker.id">
					<ion-label
						>{{ tracker.brief.emoji }} {{ getTrackerTitle(tracker) }}
					</ion-label>
					<ion-buttons>
						<ion-button
							(click)="archiveTracker($event, tracker.id)"
							color="medium"
						>
							<ion-icon name="archive" slot="start"></ion-icon>
							<ion-label>Archive</ion-label>
						</ion-button>
					</ion-buttons>
				</ion-item>
			} @empty {
				<ion-item>
					<ion-label color="medium">No trackers has been added yet.</ion-label>
				</ion-item>
			}
		}
	</ion-list>
</ion-card>
